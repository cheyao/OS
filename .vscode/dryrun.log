make --dry-run --always-make --keep-going --print-directory
make: Entering directory `/Users/ray/OS'
nasm boot/bootsect.asm -f bin -o boot/bootsect.bin
nasm boot/kernel_entry.asm -f elf64 -o boot/kernel_entry.o
x86_64-elf-gcc -g -ffreestanding -c kernel/functions.c -o kernel/functions.o
x86_64-elf-gcc -g -ffreestanding -c kernel/kernel.c -o kernel/kernel.o
x86_64-elf-gcc -g -ffreestanding -c drivers/ports.c -o drivers/ports.o
x86_64-elf-ld -o kernel.bin -Ttext 0x1000 boot/kernel_entry.o kernel/functions.o kernel/kernel.o drivers/ports.o --oformat binary
cat boot/bootsect.bin kernel.bin > output/os-image.bin
qemu-system-x86_64 -fda output/os-image.bin
rm -rf *.bin *.dis *.o *.elf
rm -rf kernel/*.o boot/*.bin drivers/*.o boot/*.o
make: Leaving directory `/Users/ray/OS'
 
